<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
  <script src="https://cdn.staticfile.org/vue/2.4.2/vue.min.js" type="text/javascript"></script>
</head>
<body>
<div id="app">
  <input type="button" value="浪起来" @click='lang'>
  <input type="button" value="别浪" @click="stop">
  <h4>{{msg}}</h4>
</div>
<script type="text/javascript">
  var vm = new Vue({
    el: '#app',
    data: {
      msg: '猥琐发育，别浪！',
      intervalId: null
    },
    methods: {
      //vm实例 会监听自己身上的data数据，所有引用该值的都会一起发生变化，
      //开发人员只需要关心数据
      lang() {
        if (this.intervalId == null) {
          this.intervalId = setInterval(() => {
            console.log(this.msg);
            /*实现字符串拼接*/
            var start = this.msg.substring(0, 1);
            var end = this.msg.substring(1);
            this.msg = end + start;
          }, 400);
        }
      },
      stop() {
        //停止定时器
        clearInterval(this.intervalId)
        this.intervalId = null;
      }
    }
  });
</script>
</body>
</html>
